; Form Designer for Purebasic - 5.30
; Warning: this file uses a strict syntax, if you edit it, make sure to respect the Form Designer limitation or it won't be opened again.

;
; This code is automatically generated by the FormDesigner.
; Manual modification is possible to adjust existing commands, but anything else will be dropped when the code is compiled.
; Event procedures needs to be put in another source file.
;

Global WindowMain

Global GadgetNewMod, GadgetHomepage, GadgetStartGame, ImageGadgetLogo, GadgetDelete, GadgetInstall, Library, GadgetRemove, ImageGadgetHeader, TextGadgetVersion, GadgetButtonInformation, FrameGadget, FrameGadget2

Enumeration FormMenu
  CompilerIf #PB_Compiler_OS <> #PB_OS_MacOS
    #PB_Menu_Quit
    #PB_Menu_Preferences
    #PB_Menu_About
  CompilerEndIf
  #MenuItem_AddMod
  #MenuItem_ExportListActivated
  #MenuItem_ExportListAll
  #MenuItem_Homepage
  #MenuItem_Update
  #MenuItem_License
EndEnumeration

Declare ResizeGadgetsWindowMain()

Declare exit(Event)
Declare MenuItemHomepage(Event)
Declare MenuItemSettings(Event)
Declare MenuItemLicense(Event)
Declare GadgetNewMod(Event)
Declare MenuItemExportAll(Event)
Declare MenuItemUpdate(Event)
Declare MenuItemExportActivated(Event)
Declare GadgetButtonDelete(EventType)
Declare GadgetLibrary(EventType)
Declare GadgetImageMain(EventType)
Declare GadgetButtonInformation(EventType)
Declare GadgetNewMod(EventType)
Declare GadgetButtonStartGame(EventType)
Declare GadgetButtonTrainFeverNetDownloads(EventType)
Declare GadgetButtonInstall(EventType)
Declare GadgetButtonRemove(EventType)

Procedure OpenWindowMain(x = 0, y = 0, width = 750, height = 480)
  WindowMain = OpenWindow(#PB_Any, x, y, width, height, "Train Fever Mod Manager", #PB_Window_SystemMenu | #PB_Window_MinimizeGadget | #PB_Window_MaximizeGadget | #PB_Window_SizeGadget | #PB_Window_TitleBar | #PB_Window_ScreenCentered)
  CompilerIf #PB_Compiler_OS <> #PB_OS_MacOS
    AddKeyboardShortcut(WindowMain, #PB_Shortcut_Control | #PB_Shortcut_S, #PB_Menu_Preferences)
    AddKeyboardShortcut(WindowMain, #PB_Shortcut_Alt | #PB_Shortcut_F4, #PB_Menu_Quit)
    AddKeyboardShortcut(WindowMain, #PB_Shortcut_Control | #PB_Shortcut_L, #PB_Menu_About)
  CompilerEndIf
  AddKeyboardShortcut(WindowMain, #PB_Shortcut_Control | #PB_Shortcut_O, #MenuItem_AddMod)
  AddKeyboardShortcut(WindowMain, #PB_Shortcut_Control | #PB_Shortcut_E, #MenuItem_ExportListActivated)
  AddKeyboardShortcut(WindowMain, #PB_Shortcut_Alt | #PB_Shortcut_E, #MenuItem_ExportListAll)
  AddKeyboardShortcut(WindowMain, #PB_Shortcut_Control | #PB_Shortcut_H, #MenuItem_Homepage)
  AddKeyboardShortcut(WindowMain, #PB_Shortcut_Control | #PB_Shortcut_U, #MenuItem_Update)
  
  CreateMenu(0, WindowID(WindowMain))
  CompilerIf #PB_Compiler_OS <> #PB_OS_MacOS
    MenuTitle(l("menu","file"))
  CompilerEndIf
  MenuItem(#PB_Menu_Preferences, l("menu","settings") + Chr(9) + "Ctrl + S")
  MenuItem(#PB_Menu_Quit, l("menu","close") + Chr(9) + "Alt + F4")
  MenuTitle(l("menu","mods"))
  MenuItem(#MenuItem_AddMod, l("menu","mod_add") + Chr(9) + "Ctrl + O")
  OpenSubMenu(l("menu","mod_export"))
  MenuItem(#MenuItem_ExportListActivated, l("menu","mod_export_active") + Chr(9) + "Ctrl + E")
  MenuItem(#MenuItem_ExportListAll, l("menu","mod_export_all") + Chr(9) + "Alt + E")
  CloseSubMenu()
  MenuTitle(l("menu","about"))
  MenuItem(#MenuItem_Homepage, l("menu","homepage") + Chr(9) + "Ctrl + H")
  MenuItem(#MenuItem_Update, l("menu","update") + Chr(9) + "Ctrl + U")
  MenuItem(#PB_Menu_About, l("menu","license") + Chr(9) + "Ctrl + L")
  GadgetNewMod = ButtonGadget(#PB_Any, 10, 425, 120, 25, l("main","new_mod"))
  GadgetHomepage = ButtonGadget(#PB_Any, 140, 425, 120, 25, l("main","download"))
  GadgetStartGame = ButtonGadget(#PB_Any, 270, 425, 250, 25, l("main","start_tf"), #PB_Button_Default)
  ImageGadgetLogo = ImageGadget(#PB_Any, 530, 15, 210, 118, 0)
  GadgetDelete = ButtonGadget(#PB_Any, 540, 240, 190, 30, l("main","delete"))
  GadgetInstall = ButtonGadget(#PB_Any, 540, 160, 190, 30, l("main","install"))
  Library = ListIconGadget(#PB_Any, 10, 8, 510, 405, l("main","name"), 240, #PB_ListIcon_MultiSelect | #PB_ListIcon_GridLines | #PB_ListIcon_FullRowSelect | #PB_ListIcon_AlwaysShowSelection)
  AddGadgetColumn(Library, 1, l("main","author"), 90)
  AddGadgetColumn(Library, 2, l("main","category"), 90)
  AddGadgetColumn(Library, 3, l("main","version"), 60)
  GadgetRemove = ButtonGadget(#PB_Any, 540, 200, 190, 30, l("main","remove"))
  ImageGadgetHeader = ImageGadget(#PB_Any, 0, 0, 750, 8, 0)
  TextGadgetVersion = TextGadget(#PB_Any, 530, 430, 210, 20, "TFMM "+updater::#VERSION$, #PB_Text_Right)
  GadgetButtonInformation = ButtonGadget(#PB_Any, 540, 310, 190, 30, l("main","information"))
  FrameGadget = FrameGadget(#PB_Any, 530, 140, 210, 140, l("main","management"))
  FrameGadget2 = FrameGadget(#PB_Any, 530, 290, 210, 60, l("main","information"))
EndProcedure

Procedure ResizeGadgetsWindowMain()
  Protected FormWindowWidth, FormWindowHeight
  FormWindowWidth = WindowWidth(WindowMain)
  FormWindowHeight = WindowHeight(WindowMain)
  ResizeGadget(GadgetNewMod, 10, FormWindowHeight - 55, 120, 25)
  ResizeGadget(GadgetHomepage, 140, FormWindowHeight - 55, 120, 25)
  ResizeGadget(GadgetStartGame, 270, FormWindowHeight - 55, FormWindowWidth - 500, 25)
  ResizeGadget(ImageGadgetLogo, FormWindowWidth - 220, 15, 210, 118)
  ResizeGadget(GadgetDelete, FormWindowWidth - 210, 240, 190, 30)
  ResizeGadget(GadgetInstall, FormWindowWidth - 210, 160, 190, 30)
  ResizeGadget(Library, 10, 8, FormWindowWidth - 240, FormWindowHeight - max(MenuHeight(), 20) - 53) ; FormWindowHeight - MenuHeight() - 53
  ResizeGadget(GadgetRemove, FormWindowWidth - 210, 200, 190, 30)
  ResizeGadget(ImageGadgetHeader, 0, 0, FormWindowWidth - 0, 8)
  ResizeGadget(TextGadgetVersion, FormWindowWidth - 220, FormWindowHeight - 50, 210, 20)
  ResizeGadget(GadgetButtonInformation, FormWindowWidth - 210, 310, 190, 30)
  ResizeGadget(FrameGadget, FormWindowWidth - 220, 140, 210, 140)
  ResizeGadget(FrameGadget2, FormWindowWidth - 220, 290, 210, 60)
EndProcedure

Procedure WindowMain_Events(event)
  Select event
    Case #PB_Event_SizeWindow
      ResizeGadgetsWindowMain()
    Case #PB_Event_CloseWindow
      ProcedureReturn #False

    Case #PB_Event_Menu
      Select EventMenu()
        Case #PB_Menu_Preferences
          MenuItemSettings(EventMenu())
        Case #PB_Menu_Quit
          exit(EventMenu())
        Case #MenuItem_AddMod
          GadgetNewMod(EventMenu())
        Case #MenuItem_ExportListActivated
          MenuItemExportActivated(EventMenu())
        Case #MenuItem_ExportListAll
          MenuItemExportAll(EventMenu())
        Case #MenuItem_Homepage
          MenuItemHomepage(EventMenu())
        Case #MenuItem_Update
          MenuItemUpdate(EventMenu())
        Case #PB_Menu_About
          MenuItemLicense(EventMenu())
      EndSelect

    Case #PB_Event_Gadget
      Select EventGadget()
        Case GadgetNewMod
          GadgetNewMod(EventType())          
        Case GadgetHomepage
          GadgetButtonTrainFeverNetDownloads(EventType())          
        Case GadgetStartGame
          GadgetButtonStartGame(EventType())          
        Case ImageGadgetLogo
          GadgetImageMain(EventType())          
        Case GadgetDelete
          GadgetButtonDelete(EventType())          
        Case GadgetInstall
          GadgetButtonInstall(EventType())          
        Case Library
          GadgetLibrary(EventType())          
        Case GadgetRemove
          GadgetButtonRemove(EventType())          
        Case GadgetButtonInformation
          GadgetButtonInformation(EventType())          
      EndSelect
  EndSelect
  ProcedureReturn #True
EndProcedure


; IDE Options = PureBasic 5.30 (Windows - x64)
; CursorPosition = 102
; FirstLine = 69
; Folding = -
; EnableUnicode
; EnableXP