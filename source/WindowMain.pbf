; Form Designer for Purebasic - 5.30
; Warning: this file uses a strict syntax, if you edit it, make sure to respect the Form Designer limitation or it won't be opened again.

;
; This code is automatically generated by the FormDesigner.
; Manual modification is possible to adjust existing commands, but anything else will be dropped when the code is compiled.
; Event procedures needs to be put in another source file.
;

Global WindowMain

Global GadgetNewMod, GadgetHomepage, GadgetStartGame, ImageGadgetLogo, GadgetUninstall, GadgetActivate, ListInstalled, GadgetDeactivate, ImageGadgetHeader, TextGadgetVersion, ScrollAreaGadget, GadgetButtonInformation, FrameGadget, FrameGadget2

Enumeration FormMenu
  #MenuItem_Settings
  #MenuItem_Close
  #MenuItem_AddMod
  #MenuItem_ExportListActivated
  #MenuItem_ExportListAll
  #MenuItem_Homepage
  #MenuItem_Update
  #MenuItem_License
EndEnumeration

Declare ResizeGadgetsWindowMain()

Declare exit(Event)
Declare MenuItemHomepage(Event)
Declare MenuItemSettings(Event)
Declare MenuItemLicense(Event)
Declare GadgetNewMod(Event)
Declare MenuItemExportAll(Event)
Declare MenuItemUpdate(Event)
Declare MenuItemExportActivated(Event)
Declare GadgetButtonUninstall(EventType)
Declare GadgetListInstalled(EventType)
Declare GadgetButtonTrainFeverNet(EventType)
Declare GadgetImageMain(EventType)
Declare GadgetButtonInformation(EventType)
Declare GadgetNewMod(EventType)
Declare GadgetButtonStartGame(EventType)
Declare GadgetButtonActivate(EventType)
Declare GadgetButtonDeactivate(EventType)

Procedure OpenWindowMain(x = 0, y = 0, width = 750, height = 480)
  WindowMain = OpenWindow(#PB_Any, x, y, width, height, "Train Fever Mod Manager", #PB_Window_SystemMenu | #PB_Window_MinimizeGadget | #PB_Window_MaximizeGadget | #PB_Window_SizeGadget | #PB_Window_TitleBar | #PB_Window_ScreenCentered)
  AddKeyboardShortcut(WindowMain, #PB_Shortcut_Control | #PB_Shortcut_S, #MenuItem_Settings)
  AddKeyboardShortcut(WindowMain, #PB_Shortcut_Alt | #PB_Shortcut_F4, #MenuItem_Close)
  AddKeyboardShortcut(WindowMain, #PB_Shortcut_Control | #PB_Shortcut_O, #MenuItem_AddMod)
  AddKeyboardShortcut(WindowMain, #PB_Shortcut_Control | #PB_Shortcut_E, #MenuItem_ExportListActivated)
  AddKeyboardShortcut(WindowMain, #PB_Shortcut_Alt | #PB_Shortcut_E, #MenuItem_ExportListAll)
  AddKeyboardShortcut(WindowMain, #PB_Shortcut_Control | #PB_Shortcut_H, #MenuItem_Homepage)
  AddKeyboardShortcut(WindowMain, #PB_Shortcut_Control | #PB_Shortcut_U, #MenuItem_Update)
  AddKeyboardShortcut(WindowMain, #PB_Shortcut_Control | #PB_Shortcut_L, #MenuItem_License)

  CreateMenu(0, WindowID(WindowMain))
  MenuTitle("File")
  MenuItem(#MenuItem_Settings, "Settings" + Chr(9) + "Ctrl + S")
  MenuItem(#MenuItem_Close, "Close" + Chr(9) + "Alt + F4")
  MenuTitle("Mods")
  MenuItem(#MenuItem_AddMod, "Add Modification" + Chr(9) + "Ctrl + O")
  OpenSubMenu("Export Mod List")
  MenuItem(#MenuItem_ExportListActivated, "Export List of Activated Mods" + Chr(9) + "Ctrl + E")
  MenuItem(#MenuItem_ExportListAll, "Export List of All Mods" + Chr(9) + "Alt + E")
  CloseSubMenu()
  MenuTitle("About")
  MenuItem(#MenuItem_Homepage, "Homepage" + Chr(9) + "Ctrl + H")
  MenuItem(#MenuItem_Update, "Update" + Chr(9) + "Ctrl + U")
  MenuItem(#MenuItem_License, "License" + Chr(9) + "Ctrl + L")
  GadgetNewMod = ButtonGadget(#PB_Any, 10, 425, 120, 25, "Add New Mod", #PB_Button_Toggle)
  GadgetToolTip(GadgetNewMod, "Add new modification")
  GadgetHomepage = ButtonGadget(#PB_Any, 140, 425, 120, 25, "Download Mods")
  GadgetStartGame = ButtonGadget(#PB_Any, 270, 425, 250, 25, "Start Train Fever", #PB_Button_Default)
  ImageGadgetLogo = ImageGadget(#PB_Any, 530, 15, 210, 118, 0)
  GadgetUninstall = ButtonGadget(#PB_Any, 540, 240, 190, 30, "Uninstall Mod")
  GadgetToolTip(GadgetUninstall, "Uninstall selected modification")
  GadgetActivate = ButtonGadget(#PB_Any, 540, 160, 190, 30, "Activate Mod")
  GadgetToolTip(GadgetActivate, "Activate selected modification")
  ListInstalled = ListIconGadget(#PB_Any, 10, 8, 510, 405, "Name", 260, #PB_ListIcon_MultiSelect | #PB_ListIcon_GridLines | #PB_ListIcon_FullRowSelect | #PB_ListIcon_AlwaysShowSelection)
  AddGadgetColumn(ListInstalled, 1, "Author", 100)
  AddGadgetColumn(ListInstalled, 2, "Version", 60)
  AddGadgetColumn(ListInstalled, 3, "Size", 60)
  GadgetDeactivate = ButtonGadget(#PB_Any, 540, 200, 190, 30, "Deactivate Mod")
  ImageGadgetHeader = ImageGadget(#PB_Any, 0, 0, 750, 8, 0)
  TextGadgetVersion = TextGadget(#PB_Any, 530, 430, 210, 20, ""+#VERSION$+"", #PB_Text_Right)
  ScrollAreaGadget = ScrollAreaGadget(#PB_Any, 530, 360, 210, 50, 188, 250, 1, #PB_ScrollArea_Flat)
  CloseGadgetList()
  GadgetButtonInformation = ButtonGadget(#PB_Any, 540, 310, 190, 30, "Mod Information")
  FrameGadget = FrameGadget(#PB_Any, 530, 140, 210, 140, "Mod Management")
  FrameGadget2 = FrameGadget(#PB_Any, 530, 290, 210, 60, "Mod Information")
EndProcedure

Procedure ResizeGadgetsWindowMain()
  Protected FormWindowWidth, FormWindowHeight
  FormWindowWidth = WindowWidth(WindowMain)
  FormWindowHeight = WindowHeight(WindowMain)
  ResizeGadget(GadgetNewMod, 10, FormWindowHeight - 55, 120, 25)
  ResizeGadget(GadgetHomepage, 140, FormWindowHeight - 55, 120, 25)
  ResizeGadget(GadgetStartGame, 270, FormWindowHeight - 55, FormWindowWidth - 500, 25)
  ResizeGadget(ImageGadgetLogo, FormWindowWidth - 220, 15, 210, 118)
  ResizeGadget(GadgetUninstall, FormWindowWidth - 210, 240, 190, 30)
  ResizeGadget(GadgetActivate, FormWindowWidth - 210, 160, 190, 30)
  ResizeGadget(ListInstalled, 10, 8, FormWindowWidth - 240, FormWindowHeight - MenuHeight() - 53)
  ResizeGadget(GadgetDeactivate, FormWindowWidth - 210, 200, 190, 30)
  ResizeGadget(ImageGadgetHeader, 0, 0, FormWindowWidth - 0, 8)
  ResizeGadget(TextGadgetVersion, FormWindowWidth - 220, FormWindowHeight - 50, 210, 20)
  ResizeGadget(ScrollAreaGadget, FormWindowWidth - 220, 360, 210, FormWindowHeight - MenuHeight() - 408)
  ResizeGadget(GadgetButtonInformation, FormWindowWidth - 210, 310, 190, 30)
  ResizeGadget(FrameGadget, FormWindowWidth - 220, 140, 210, 140)
  ResizeGadget(FrameGadget2, FormWindowWidth - 220, 290, 210, 60)
EndProcedure

Procedure WindowMain_Events(event)
  Select event
    Case #PB_Event_SizeWindow
      ResizeGadgetsWindowMain()
    Case #PB_Event_CloseWindow
      ProcedureReturn #False

    Case #PB_Event_Menu
      Select EventMenu()
        Case #MenuItem_Settings
          MenuItemSettings(EventMenu())
        Case #MenuItem_Close
          exit(EventMenu())
        Case #MenuItem_AddMod
          GadgetNewMod(EventMenu())
        Case #MenuItem_ExportListActivated
          MenuItemExportActivated(EventMenu())
        Case #MenuItem_ExportListAll
          MenuItemExportAll(EventMenu())
        Case #MenuItem_Homepage
          MenuItemHomepage(EventMenu())
        Case #MenuItem_Update
          MenuItemUpdate(EventMenu())
        Case #MenuItem_License
          MenuItemLicense(EventMenu())
      EndSelect

    Case #PB_Event_Gadget
      Select EventGadget()
        Case GadgetNewMod
          GadgetNewMod(EventType())          
        Case GadgetHomepage
          GadgetButtonTrainFeverNet(EventType())          
        Case GadgetStartGame
          GadgetButtonStartGame(EventType())          
        Case ImageGadgetLogo
          GadgetImageMain(EventType())          
        Case GadgetUninstall
          GadgetButtonUninstall(EventType())          
        Case GadgetActivate
          GadgetButtonActivate(EventType())          
        Case ListInstalled
          GadgetListInstalled(EventType())          
        Case GadgetDeactivate
          GadgetButtonDeactivate(EventType())          
        Case GadgetButtonInformation
          GadgetButtonInformation(EventType())          
      EndSelect
  EndSelect
  ProcedureReturn #True
EndProcedure

